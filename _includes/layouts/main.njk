<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta http-equiv="X-UA-Compatible" content="ie=edge" />
		{% include "partials/metadata--info.njk" %}
		<link rel="stylesheet" href="{% webpackAsset 'main.css' %}">
		<script src="/js/alpine.js?v={% version %}" defer></script>
		<script src="https://unpkg.com/@alpinejs/intersect@3.x.x/dist/cdn.min.js"></script>
    	<script defer src="{% webpackAsset 'main.js' %}"></script>
	</head>
	<body>
		<a class="skip-link" href="#main-content">Skip to main content</a>
		<header
			class="py-[20px] fixed top-0 w-full z-20"
			x-data="{
				scrolled: false,

				init() {
					this.checkScroll();
				},

				checkScroll() {
					this.scrolled = window.scrollY > 150;
				}
			}"
			@scroll.window="checkScroll()"
			x-cloak
		>
			<div
				class="container flex justify-between items-center duration-[.5s] ease-linear"
				:class="{
					'container': !scrolled,
					'max-w-[2000px] mx-auto fl-px-2xl': scrolled
				}"
			>
				<a class="group" href="/">
					{% include "partials/icons/logo.svg" %}
				</a>
				{% if navigation.main | length %}
				<nav class="ml-auto" aria-label="primary">
					<ul class="flex">
						{% for item in navigation.main %}
						<li class="px-[16px] border-l border-dashed border-l-black/[0.85] first:border-none">
							<a
								class="text-black font-bold"
								href="{{ item.url}}"
							>
								{{ item.text }}
							</a>
						</li>
						{% endfor %}
					</ul>
				</nav>
				{% endif %}
			</div>
		</header>

		<main class="main mb-[650px] bg-white z-10 relative" tabindex="-1" id="main-content">
			{% block content %}
				{{ content | safe }}
			{% endblock %}
		</main>

		<footer class="fixed w-full bg-black bottom-0 p-[10vh_0_10vh] min-h-[650px] flex flex-col justify-center items-center">
			<div class="container flex flex-col mdw:site-grid h-full overflow-hidden">
				<div class="col-start-1 col-span-3">
					<span class="fl-text-step-5 heading text-orange">Want to get in touch?</span>
						{% include "partials/icons/logo.svg" %}
				</div>
				<div class="col-start-6 col-span-7 flex flex-row gap-x-[100px] gap-y-[52px] items-start justify-between fl-mt-m">
					<div class="flex flex-col">
						<span class="text-white/[0.5] font-heading fl-text-step-0 tracking-[0.06em] uppercase">Contact</span>
						<a
							class="font-heading font-medium tracking-[0.03em] text-white mt-[19px] fl-text-step-1"
							href="mailto:hello@dominickjay.com"
						>
							hello@dominickjay.com
						</a>
					</div>
					<div class="flex flex-col gap-y-[52px] ml-auto">
						<div class="flex gap-x-[25px] justify-end">
						{% if navigation.main | length %}
							<nav
								class="ml-auto min-w-[200px]"
								aria-label="secondary"
							>
								<span class="text-white/[0.5] font-heading fl-text-step-0 tracking-[0.06em] uppercase">Pages</span>
								<ul class="flex flex-col mt-[19px]">
									{% for item in navigation.main%}
									<li class="py-[4px] hover:underline hover:underline-offset-2">
										<a
											href="{{ item.url}}"
											class="text-white"
										>
											{{ item.text }}
										</a>
									</li>
									{% endfor %}
								</ul>
							</nav>
							{% endif %}
							<nav
								class="ml-auto min-w-[200px]"
								aria-label="secondary"
							>
								<span class="text-white/[0.5] font-heading fl-text-step-0 tracking-[0.06em] uppercase">Pages</span>
								<ul class="flex flex-col mt-[19px]">
									{% for item in navigation.secondary %}
									<li class="py-[4px] hover:underline hover:underline-offset-2">
										<a
											href="{{ item.url}}"
											class="text-white"
										>
											{{ item.text }}
										</a>
									</li>
									{% endfor %}
								</ul>
							</nav>
						</div>
					</div>
				</div>
				<div class="flex flex-col gap-y-[15px] col-start-6 col-span-7 fl-mt-l">
					{% set recentlyPlayed = lastfm.recenttracks.track %}
					<span class="text-white/[0.85]">Currently listening to:
						<span class="text-white font-bold">{{ recentlyPlayed[0].name }}</span>
						by
						<span class="text-white font-bold">{{ recentlyPlayed[0].artist['#text'] }}</span>
					</span>
					<span class="text-white/[0.85] font-bold fl-text-step-0">Last Build: <span class="text-white font-bold">30/10/2022</span></span>
					<small class="text-white/[0.85] font-bold fl-text-step-0 ml-auto fl-mt-s">Â© 2015 - {% year %} - Dominick Jay</small>
				</div>
			</div>
		</footer>
	</body>
</html>
