---
const { title, description, growth } = Astro.props;
---

<header class="relative py-[32px]">
	<div
		class="container cluster relative"
		style="--cluster-vertical-alignment: flex-end; --gutter: 32px;"
	>
		<div class="flow [--flow-space:16px]" style="--flow-space: var(--space-xl)">
			{
				growth && (
					<div class="h-fit h4 flex items-baseline gap-[8px]">
						Current Growth Stage:{" "}
						<span class="growth">
							{growth.charAt(0).toUpperCase() + growth.slice(1)}
						</span>
					</div>
				)
			}
			<h1 class="h1 gradient-text md:max-w-[85%]">{title}</h1>
			<h2 class="intro md:max-w-[85%] md:pt-[var(--space-m)]">{description}</h2>
		</div>
	</div>
</header>

<script is:inline>
	function updateTimeTheme() {
		const now = Temporal.Now.zonedDateTimeISO();
		const hour = now.hour;
		let period = "";

		if (hour >= 5 && hour < 9) period = "early-morning";
		else if (hour >= 9 && hour < 12) period = "late-morning";
		else if (hour >= 12 && hour < 15) period = "early-afternoon";
		else if (hour >= 15 && hour < 17) period = "mid-afternoon";
		else if (hour >= 17 && hour < 19) period = "last-afternoon";
		else if (hour >= 19 && hour < 22) period = "evening";
		else period = "night";

		document.documentElement.setAttribute("data-time", period);
	}

	updateTimeTheme();
</script>
