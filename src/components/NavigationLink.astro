---
import type { HTMLAttributes } from 'astro/types';

type Props = HTMLAttributes<'a'>;

const { href, class: className, ...props } = Astro.props;
const pathname = Astro.url.pathname.replace(import.meta.env.BASE_URL, '');
const subpath = pathname.match(/[^\/]+/g);
const isActive = href === pathname || href === '/' + (subpath?.[0] || '');
---

<a href={href} class:list={[className, { active: isActive }]} {...props}>
	<slot />
    <svg style={isActive? ' ':'display:none'}  width="41" height="13" viewBox="0 0 41 13" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M22.099 0.147406C22.6977 0.0853351 23.2465 0.486761 23.3692 1.07676L24.1013 4.59423C24.1331 4.57576 24.1657 4.55872 24.1994 4.54315C24.5611 4.37586 24.9832 4.40371 25.3198 4.61709L25.3519 4.63744L25.5913 3.7045C25.7144 3.22516 26.1242 2.87435 26.6164 2.82707C27.1084 2.77976 27.5774 3.04615 27.7892 3.4933L27.9039 3.73512C28.1031 3.56951 28.356 3.47083 28.6258 3.4643C29.095 3.45298 29.5258 3.72244 29.7214 4.14954L30.5431 5.94388L32.1874 1.98216C32.378 1.52315 32.8364 1.23374 33.3324 1.25943C33.8283 1.28511 34.2545 1.62031 34.3967 2.09656L35.2485 4.94999L35.5107 4.61078C35.6958 4.37129 35.9631 4.21589 36.254 4.16929L36.2528 2.91362C36.2522 2.36449 36.6318 1.88814 37.1666 1.76643C37.7016 1.6447 38.2495 1.91 38.4861 2.40542L40.6656 6.96746C40.9454 7.55312 40.6979 8.2549 40.1128 8.53477C39.528 8.81485 38.8269 8.56724 38.5471 7.98158L38.5184 7.92135C38.3759 8.27002 38.0699 8.53936 37.6844 8.62436C37.146 8.74327 36.5973 8.47115 36.3658 7.97007L36.1853 7.57963L35.7071 8.19851C35.4378 8.54688 34.9963 8.71549 34.5637 8.63471C34.1309 8.55415 33.7794 8.23803 33.6535 7.81591L33.0908 5.9317L31.68 9.33077C31.5009 9.76217 31.0836 10.0464 30.6169 10.0547C30.1503 10.0631 29.7229 9.79406 29.5284 9.36944L28.635 7.41807C28.442 7.56934 28.2023 7.65976 27.947 7.66749C27.576 7.67897 27.2275 7.51435 27.0001 7.23421C26.8747 7.38905 26.7105 7.51165 26.5201 7.58706C26.2212 7.70574 25.8892 7.69581 25.6007 7.56403L25.2146 10.2864C25.1345 10.8517 24.6602 11.2776 24.09 11.2959C23.52 11.3144 23.0193 10.92 22.9028 10.3609L22.728 9.52127C22.6625 9.5521 22.5931 9.57739 22.521 9.59605C22.0024 9.73033 21.4587 9.49624 21.1995 9.02703L19.52 5.9871L17.2607 9.14803C17.0311 9.46921 16.6558 9.65357 16.2616 9.63857C15.8673 9.62379 15.5069 9.41174 15.3022 9.07411L14.6243 7.95655L14.322 9.88453C14.243 10.3887 13.848 10.7842 13.3444 10.8633C12.8408 10.9425 12.3437 10.6874 12.114 10.2318L9.80267 5.64851L8.56586 10.8909C8.43823 11.4319 7.94948 11.8093 7.39437 11.7958C6.83925 11.782 6.3696 11.381 6.26866 10.8344L5.80799 8.33987L5.06164 10.8519C4.90537 11.3779 4.40621 11.7256 3.85915 11.6894C3.3121 11.6534 2.86278 11.2432 2.77673 10.7013L2.61818 9.70251L2.35068 11.8465C2.27033 12.4906 1.68359 12.9474 1.04015 12.8671C0.396714 12.7867 -0.0597554 12.1993 0.0205981 11.5552L1.31368 1.19035C1.38613 0.609542 1.87448 0.170635 2.45913 0.160867C3.04377 0.1511 3.54647 0.57347 3.63826 1.15153L4.2845 5.22207L4.94944 2.98408C5.10417 2.46336 5.59526 2.11664 6.1372 2.14551C6.67915 2.17437 7.1307 2.57128 7.22936 3.10551L7.56327 4.91364L8.25732 1.97177C8.37071 1.49116 8.77213 1.13277 9.26203 1.07474C9.75191 1.01673 10.2258 1.27145 10.4481 1.71228L12.5674 5.9149L12.8021 4.41789C12.8785 3.93048 13.2509 3.54271 13.7345 3.4471C14.218 3.35149 14.7097 3.56838 14.9656 3.99012L16.3861 6.33202L18.6925 3.10525C18.9269 2.77724 19.3131 2.59247 19.7153 2.61583C20.1176 2.63917 20.4798 2.8674 20.6748 3.22034L21.0484 3.89649L21.0458 1.3176C21.0452 0.714935 21.5001 0.209477 22.099 0.147406Z" fill="black"/>
    </svg>
</a>
